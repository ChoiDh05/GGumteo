<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--    <link rel="stylesheet" href="/css/header/login.css">-->
    <title>로그인</title>
</head>
<body>
<!-- 로그인 -->
<header th:fragment="header" id="main-header" class="main-total-header login-header">
    <div class="header-nav sticky">
        <div class="main-header-container">
            <div class="header-nav-wrapper">
                <a class="category-navigation-logo" th:href="@{/main}">
                    <img class="test-logo" src="/images/header/test-logo.png" alt="Logo" />
                </a>
                <div class="category-navigation-wrapper">
                    <a class="category-navigation" th:href="@{/video/main}">
                        <div class="category category-color">영상</div>
                    </a>
                    <a class="category-navigation" th:href="@{/text/main}">
                        <div class="category category-color">글</div>
                    </a>
                    <a class="category-navigation" href="/notices">
                        <div class="category category-color">공지사항</div>
                    </a>
                </div>
                <div class="icon-box">
                    <!-- 알림박스 (notification.js 있음) -->
                    <div class="noti-box">
                        <!-- 알림 없을 시 -->
                        <div th:if="${#lists.isEmpty(unreadAlarms)}" id="noti-bell-container-1" class="noti-bell-container">
                            <img class="icon-noti-bell" src="/images/header/icon-noti-bell.png" alt="No Notifications" />
                            <!-- 내 알림 모달 -->
                            <div id="noti-modal-1" class="noti-modal">
                                <p class="noti-header">내 알림</p>
                                <a th:href="@{/alarm/video/my-page}">
                                    <div class="noti-item">
                                        <p>영상</p>
                                    </div>
                                </a>
                                <a th:href="@{/alarm/video/my-page}">
                                    <div class="noti-item">
                                        <p>글</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!-- 알림 있을 시 -->
                        <div th:unless="${#lists.isEmpty(unreadAlarms)}" id="noti-bell-container-2" class="noti-bell-container">
                            <div class="noti-dot-wrapper">
                                <img class="noti-dot" src="/images/header/noti-dot.png" alt="New Notifications" />
                            </div>
                            <img class="icon-noti-bell" src="/images/header/icon-noti-bell.png" alt="Notifications" />
                            <!-- 내 알림 모달 -->
                            <div id="noti-modal-2" class="noti-modal">
                                <p class="noti-header">내 알림</p>
                                <!-- 영상 알람 있을 시 -->
                                <a th:href="@{/alarm/video/my-page}" th:if="${unreadVideoAlarmsCount > 0}">
                                    <div class="dot-video">
                                        <img class="noti-dot" src="/images/header/noti-dot.png" alt="Video Notification Dot" />
                                    </div>
                                    <div class="noti-item">
                                    <p>영상</p>
                                    </div>
                                </a>
                                <!-- 영상 알람 없을 시 -->
                                <a th:href="@{/alarm/video/my-page}" th:unless="${unreadVideoAlarmsCount > 0}">
                                    <div class="noti-item">
                                        <p>영상</p>
                                    </div>
                                </a>
                                <!-- 글 알람 있을 시 -->
                                <a href="" th:if="${unreadTextAlarmsCount > 0}">
                                    <div class="dot-writing">
                                        <img class="noti-dot" src="/images/header/noti-dot.png" alt="Text Notification Dot" />
                                    </div>
                                    <div class="noti-item-write">
                                    <p>글</p>
                                    </div>
                                </a>
                                <!-- 글 알람 없을 시 -->
                                <a href="" th:unless="${unreadTextAlarmsCount > 0}">
                                    <div class="noti-item-write">
                                        <p>글</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="divider"></div>
                    </div>
                    <!-- 프로필 이미지 -->
                    <div class="profile-image">
<!--                        /*@thymesVar id="member" type=""*/-->
                        <a th:href="@{/member/video/my-page}">
                        <img class="authenticated-member-image" th:src="${member.profileImgUrl}" alt="Profile Image">
                        </a>
                    </div>
                    <!-- 로그아웃 버튼 -->
                    <div class="logout-box">
                        <a class="btn logout" id="logout-btn" href="/logout">
                            로그아웃
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- 검색 창 (search.js 있음) -->
<!-- ... 기존 검색 창 코드 생략 ... -->
</body>
<script>
    // document.getElementById('.alarm-video').addEventListener('click', (e) => {
    //     e.preventDefault(); // 기본 동작을 막고
    //     location.href = '/alarm/video/my-page'; // 리디렉션
    // });
</script>
<script src="/js/header/header-login.js"></script>
<script src="/js/header/logout-click.js"></script>
</html>
