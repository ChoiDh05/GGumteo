<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>모집 수정하기</title>
    <link rel="stylesheet" href="/css/audition/video/write.css" />
    <link rel="stylesheet" th:href="@{/css/header/logout.css}">
    <link rel="stylesheet" th:href="@{/css/header/login.css}">
    <link rel="stylesheet" th:href="@{/css/footer/footer.css}">
</head>
<body>
<th:block th:if="${isLoggedIn}">
    <div th:replace="~{header-login :: header}"></div>
</th:block>
<th:block th:if="${!isLoggedIn}">
    <div th:replace="~{header-logout :: header}"></div>
</th:block>
<main>
    <div class="main">
        <div class="header edit-header">
            <div class="background"></div>
            <div class="container">
                <div class="profile-box write">
                    <form
                            method="post"
                            th:action="@{/audition/video/modify}"
                            id="write-form"
                            enctype="multipart/form-data">
                        <div th:if="${audition != null}">
                            <input type="hidden" name="id" th:value="${audition.id}" />
                        </div>
                        <div class="write-add-view">
                            <div class="subtitle-1 write-add-title">
                                모집 수정하기
                            </div>
                            <div class="write-add-content-box">
                                <div class="write-title">
                                    모집 제목
                                    <span class="star">*</span>
                                </div>
                                <div class="write-name write-detail">
                                    <div class="label-input-partner">
                                        <input
                                                class="required label-input"
                                                name="postTitle"
                                                type="text"
                                                th:value="${audition.postTitle}"
                                        />
                                        <label for="title"
                                        >제목을 입력해주세요
                                            *</label
                                        >
                                    </div>
                                    <span
                                            class="error-text"
                                            style="display: none"
                                    >에러상세 메시지</span
                                    >
                                </div>
                                <div class="input-guide-helpertext">
                                    모집 목록에 가장먼저 보이는
                                    제목입니다
                                </div>

                                <div class="portfolio-detail-box">
                                    <div
                                            class="portfolio-detail-box-wrapper"
                                    >
                                        <div class="detail-box-wrapper">
                                            <div class="write-category">
                                                모집 분야
                                                <span class="star"
                                                >*</span
                                                >
                                            </div>
                                            <div class="audition-detail">
                                                <div
                                                        class="project-category-box"
                                                >
                                                    <label
                                                            for="actor"
                                                            class="checkbox-partner"
                                                    >
                                                                <span>
                                                                    <input
                                                                            type="radio"
                                                                            name="auditionField"
                                                                            value="1"
                                                                            th:checked="${audition.auditionField == 1}"
                                                                    />
                                                                    <span
                                                                            class="arrow"
                                                                    ></span>
                                                                </span>
                                                        <span
                                                                class="category-span"
                                                        >배우</span
                                                        >
                                                    </label>
                                                </div>
                                                <div
                                                        class="project-category-box"
                                                >
                                                    <label
                                                            for="steppe"
                                                            class="checkbox-partner"
                                                    >
                                                                <span>
                                                                    <input
                                                                            type="radio"
                                                                            name="auditionField"
                                                                            value="2"
                                                                            th:checked="${audition.auditionField == 2}"
                                                                    />
                                                                    <span
                                                                            class="arrow"
                                                                    ></span>
                                                                </span>
                                                        <span
                                                                class="category-span"
                                                        >스텝</span
                                                        >
                                                    </label>
                                                </div>
                                                <div
                                                        class="project-category-box"
                                                >
                                                    <label
                                                            for="supervision"
                                                            class="checkbox-partner"
                                                    >
                                                                <span>
                                                                    <input
                                                                            type="radio"
                                                                            name="auditionField"
                                                                            value="3"
                                                                            th:checked="${audition.auditionField == 3}"
                                                                    />
                                                                    <span
                                                                            class="arrow"
                                                                    ></span>
                                                                </span>
                                                        <span
                                                                class="category-span"
                                                        >감독</span
                                                        >
                                                    </label>
                                                </div>
                                                <div
                                                        class="project-category-box"
                                                >
                                                    <label
                                                            for="
                                                                etc"
                                                            class="checkbox-partner"
                                                    >
                                                                <span>
                                                                    <input
                                                                            type="radio"
                                                                            name="auditionField"
                                                                            value="4"
                                                                            th:checked="${audition.auditionField == 4}"
                                                                    />
                                                                    <span
                                                                            class="arrow"
                                                                    ></span>
                                                                </span>
                                                        <span
                                                                class="category-span"
                                                        >기타</span
                                                        >
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="portfolio-detail">
                                            <div
                                                    class="experience-amount"
                                            >
                                                경력 사항 및 예상 금액
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 37.1%"
                                            >
                                                <div
                                                        class="label-input-partner"
                                                >
                                                    <input
                                                            class="theme-partner wishket-label-input not-required-field"
                                                            data-type="label"
                                                            name="auditionCareer"
                                                            type="text"
                                                            th:value="${audition.auditionCareer}"
                                                    /><label
                                                >경력</label
                                                >
                                                </div>
                                                <span
                                                        class="error-text"
                                                        style="
                                                                display: none;
                                                            "
                                                >에러상세
                                                            메시지</span
                                                >
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 59%"
                                            >
                                                <div
                                                        class="label-input-partner"
                                                >
                                                    <input
                                                            class="theme-partner wishket-label-input not-required-field"
                                                            data-type="label"
                                                            name="expectedAmount"
                                                            type="text"
                                                            th:value="${audition.expectedAmount}"
                                                    /><label
                                                >예상 금액:
                                                    일급일 경우
                                                    금액/일로
                                                    작성해주세요.</label
                                                >
                                                </div>
                                                <span
                                                        class="error-text"
                                                        style="
                                                                display: none;
                                                            "
                                                >에러상세
                                                            메시지</span
                                                >
                                            </div>
                                        </div>
                                        <div class="portfolio-detail">
                                            <div class="date-box">
                                                근무시작일/ 모집마감일/
                                                모집인원
                                                <span class="star"
                                                >*</span
                                                >
                                            </div>
                                            <div
                                                    class="input-box date-input-box"
                                                    style="width: 132px"
                                            >
                                                <div
                                                        class="label-input-partner label-placeholder label-effect"
                                                >
                                                    <input
                                                            class="required theme-partner wishket-label-input date-input"
                                                            data-type="label-placeholder"
                                                            name="serviceStartDate"
                                                            onkeypress="filter_number(this, 'm')"
                                                            onkeyup="only_number(this, 'm')"
                                                            placeholder="YYYY.MM.DD"
                                                            type="text"
                                                            th:value="${audition.serviceStartDate}"
                                                    /><label
                                                >근무시작일
                                                    *</label
                                                >
                                                </div>
                                                <span
                                                        class="error-text"
                                                        style="
                                                                display: none;
                                                            "
                                                >에러상세
                                                            메시지</span
                                                >
                                            </div>
                                            <div
                                                    class="input-box date-input-box"
                                                    style="width: 132px"
                                            >
                                                <div
                                                        class="label-input-partner label-placeholder label-effect"
                                                >
                                                    <input
                                                            class="required theme-partner wishket-label-input date-input"
                                                            data-type="label-placeholder"
                                                            name="auditionDeadLine"
                                                            onkeypress="filter_number(this, 'm')"
                                                            onkeyup="only_number(this, 'm')"
                                                            placeholder="YYYY.MM.DD"
                                                            type="text"
                                                            th:value="${audition.auditionDeadLine}"
                                                    /><label
                                                >모집마감일
                                                    *</label
                                                >
                                                </div>
                                                <span
                                                        class="error-text"
                                                        style="
                                                                display: none;
                                                            "
                                                >에러상세
                                                            메시지</span
                                                >
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 120px"
                                            >
                                                <div
                                                        class="label-input-partner label-placeholder label-effect"
                                                >
                                                    <input
                                                            class="required theme-partner wishket-label-input participation_rate"
                                                            data-type="label-placeholder"
                                                            name="auditionPersonnel"
                                                            onkeypress="filter_percent(this)"
                                                            onkeyup="only_number(this)"
                                                            placeholder="예) 1명"
                                                            type="text"
                                                            th:value="${audition.auditionPersonnel}"
                                                            style="
                                                                    padding-right: 39px;
                                                                "
                                                            data-gtm-form-interact-field-id="0"
                                                    /><label
                                                >모집인원
                                                    *</label
                                                >
                                                </div>
                                                <span
                                                        class="error-text"
                                                        style="
                                                                display: none;
                                                            "
                                                >에러상세
                                                            메시지</span
                                                >
                                            </div>
                                        </div>
                                        <div class="portfolio-detail">
                                            <div
                                                    class="audition-tool place"
                                            >
                                                모집 장소
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 100%"
                                            >
                                                <div
                                                        class="default-input-partner"
                                                >
                                                    <input
                                                            class="theme-partner wishket-text not-required-field"
                                                            name="auditionLocation"
                                                            onkeyup="max_input(this, 500)"
                                                            placeholder=""
                                                            type="text"
                                                            th:value="${audition.auditionLocation}"
                                                    />
                                                </div>
                                                <span class="error-text"
                                                >에러상세
                                                            메시지</span
                                                >
                                                <p class="input_guide">
                                                    모집 장소를
                                                    적어주세요.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="portfolio-detail">
                                            <div class="audition-tool">
                                                모집 배경
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 100%"
                                            >
                                                <div
                                                        class="default-input-partner"
                                                >
                                                    <input
                                                            class="theme-partner wishket-text not-required-field"
                                                            name="auditionBackground"
                                                            onkeyup="max_input(this, 500)"
                                                            placeholder=""
                                                            type="text"
                                                            th:value="${audition.auditionBackground}"
                                                    />
                                                </div>
                                                <span class="error-text"
                                                >에러상세
                                                            메시지</span
                                                >
                                                <p class="input_guide">
                                                    이 모집을 시작한
                                                    배경을 작성해주세요.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="portfolio-detail">
                                            <div class="audition-tool">
                                                모집 유형
                                            </div>
                                            <div
                                                    class="input-box"
                                                    style="width: 100%"
                                            >
                                                <div
                                                        class="default-input-partner"
                                                >
                                                    <input
                                                            class="theme-partner wishket-text not-required-field"
                                                            name="auditionCategory"
                                                            onkeyup="max_input(this, 500)"
                                                            placeholder=""
                                                            type="text"
                                                            th:value="${audition.auditionCategory}"
                                                    />
                                                </div>
                                                <span class="error-text"
                                                >에러상세
                                                            메시지</span
                                                >
                                                <p class="input_guide">
                                                    이 모집의 유형을
                                                    작성해주세요.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div
                                        class="write-description-box write-detail"
                                >
                                    <div class="write-content">
                                        모집 내용 설명
                                        <span class="star">*</span>
                                    </div>
                                    <input
                                            hidden
                                            id="is_changed_textarea"
                                            type="checkbox"
                                    />
                                    <div class="ui-textarea-partner">
                                        <div class="textarea__border">
                                                    <textarea
                                                            class="required textarea expand"
                                                            maxlength="5000"
                                                            name="postContent"
                                                            th:text="${audition.postContent}"
                                                    ></textarea>
                                        </div>
                                        <span
                                                class="error-text"
                                                style="display: none"
                                        >에러상세 메시지</span
                                        ><span class="word-length"
                                    >0/5000</span
                                    >
                                    </div>
                                </div>
                                <div class="audition-img-box">
                                    <div class="title-img-box">
                                        <img src="https://www.wishket.com/static/renewal/img/partner/profile/icon_portfolio_image_upload.png" class="title-img"/>
                                        <span class="title-text">현재 업로드된 작품 이미지 및 파일</span>
                                    </div>
                                    <div id="existing-files-container">
                                        <div th:each="file : ${existingFiles}" class="img-box-list existing-file">
                                            <div class="img-edit-box" style="margin-top: 10px;width: 88px;margin-left: 635px;display: block;">
                                                <div type="button" class="btn-edit-item" th:attr="data-file-id=${file.id}">
                                                    이미지 삭제
                                                </div>
                                            </div>
                                            <div class="img-content-box">
                                                <!-- 이미지 파일일 경우 img 태그 사용 -->
                                                <div th:if="${#strings.endsWith(file.filePath, '.jpg') or #strings.endsWith(file.filePath, '.jpeg') or #strings.endsWith(file.filePath, '.png') or #strings.endsWith(file.filePath, '.gif')}">
                                                    <img th:src="@{'/audition/video/display?fileName=' + ${file.filePath}}" alt="Uploaded Image" />
                                                </div>
                                                <!-- 비디오 파일일 경우 video 태그 사용 -->
                                                <div th:if="${#strings.endsWith(file.filePath, '.mp4') or #strings.endsWith(file.filePath, '.mov') or #strings.endsWith(file.filePath, '.avi')}">
                                                    <video controls th:src="@{'/audition/video/display?fileName=' + ${file.filePath}}" alt="Uploaded Video"></video>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="img-caption-box" style="display: block;">
                                            <p style="margin-bottom: 10px">파일 설명</p>
                                            <div class="default-input-partner">
                                                <input
                                                        type="text"
                                                        class="img-caption-box-content"
                                                        name="fileContent"
                                                        th:value="${audition.fileContent != null ? audition.fileContent : ''}"
                                                        placeholder="올린 파일에 대한 설명을 입력해주세요."
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="audition-img-box">
                                    <div class="title-img-box">
                                        <img
                                                src="https://www.wishket.com/static/renewal/img/partner/profile/icon_portfolio_image_upload.png"
                                                class="title-img"
                                        />
                                        <span class="title-text">
                                                    추가로 첨부할 이미지나 영상을 올려주세요.
                                                </span>
                                    </div>
                                    <div id="img-box-container">
                                        <div class="img-box-list">
                                            <div class="img-edit-box">
                                                <div
                                                        class="btn-edit-item"
                                                >
                                                    이미지 변경
                                                </div>
                                                <div
                                                        class="btn-edit-item"
                                                >
                                                    이미지 삭제
                                                </div>
                                            </div>
                                            <div
                                                    class="img-content-box"
                                            >
                                                <div
                                                        class="center-text img-box"
                                                >
                                                    <div
                                                            class="default-img"
                                                            id="default-img"
                                                    >
                                                        <!-- 이미지 미리보기 -->
                                                        <img
                                                                id="preview"
                                                                src="https://www.wishket.com/static/renewal/img/partner/profile/icon_btn_add_portfolio_image.png"
                                                                class="img-tag"
                                                        />
                                                        <video
                                                                id="video-preview"
                                                                class="video-tag"
                                                                controls
                                                        ></video>
                                                        <div
                                                                class="img-box-title"
                                                        >
                                                            영상,
                                                            이미지 등록
                                                        </div>
                                                        <div
                                                                class="img-box-text"
                                                        >
                                                            모집 내용
                                                            혹은 설명을
                                                            돕는
                                                            이미지를
                                                            선택해
                                                            주세요.
                                                        </div>
                                                        <div
                                                                class="img-box-help"
                                                        >
                                                                    <span>
                                                                        · 이미지
                                                                        최적
                                                                        사이즈:
                                                                        가로
                                                                        720px
                                                                    </span>
                                                        </div>
                                                        <!-- 숨겨진 파일 첨부 기능 -->
                                                        <input
                                                                id="file-upload"
                                                                type="file"
                                                                accept="image/*,video/*"
                                                                style="
                                                                        display: none;
                                                                    "
                                                                onchange="previewFile()"
                                                                name="auditionFile"
                                                                multiple
                                                        />
                                                    </div>
                                                </div>
<!--                                                <div-->
<!--                                                        class="img-caption-box"-->
<!--                                                >-->
<!--                                                    <div-->
<!--                                                            class="default-input-partner"-->
<!--                                                    >-->
<!--                                                        <input-->
<!--                                                                type="text"-->
<!--                                                                class="img-caption-box-content"-->
<!--                                                                name="fileContent"-->
<!--                                                                placeholder="올린 파일에 대한 설명을 입력해주세요."-->
<!--                                                        />-->
<!--                                                    </div>-->
<!--                                                </div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="img-add">
                                        <img
                                                src="https://www.wishket.com/static/renewal/img/partner/profile/btn_icon_add.png"
                                        />
                                        작품 추가
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="write-footer">
                            <div class="button-box">
                                <button class="btn btn-back"
                                        style="margin-right: 500px;">
                                    취소</button
                                >
                                <button class="btn btn-delete">
                                    삭제</button
                                >
                                <button
                                    class="btn btn-submit"
                                    type="submit"
                            >
                                수정
                            </button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="active" id="write-footer-moving"></div>
            </div>
        </div>
    </div>
</main>
<footer th:replace="~{footer.html :: footer}"></footer>
</body>
<!--<script src="/js/audition/write-file.js"></script>-->
<script src="/js/audition/audition-modify.js"></script>
<!--<script src="/js/audition/write-input.js"></script>-->
<script th:src="@{/js/header/header-logout.js}"></script>
<script th:src="@{/js/header/header-login.js}"></script>
<script th:src="@{/js/header/logout-click.js}"></script>
</html>
